/* Generated by Nimrod Compiler v0.9.3 */
/*   (c) 2012 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: MacOSX, amd64, gcc */
/* Command for C compiler:
   gcc -c  -w -O3 -fno-strict-aliasing  -I/usr/src/extras/Nimrod/lib -o compiler/nimcache/rdstdin.o compiler/nimcache/rdstdin.c */
#define NIM_INTBITS 64
#include "nimbase.h"

#include <stdlib.h>
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef N_CDECL_PTR(int, tcommandfunc176220) (int a2, int a3);
typedef N_CDECL_PTR(int, TY178590) (int a2, tcommandfunc176220 a3);
struct TGenericSeq {
NI len;
NI reserved;
};
typedef NIM_CHAR TY611[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY611 data;
};
typedef N_CDECL_PTR(NCSTRING, TY178560) (NCSTRING a2);
typedef N_CDECL_PTR(void, TY180054) (NCSTRING a2);
N_CDECL(int, donothing_181023)(int a, int b);
N_NIMCALL(NimStringDesc*, cstrToNimstr)(NCSTRING str);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
extern TY178590 Dl_178589;
extern TY178560 Dl_178559;
extern TY180054 Dl_180053;

N_CDECL(int, donothing_181023)(int a, int b) {
	int result;
	result = 0;
	return result;
}

N_NIMCALL(NIM_BOOL, readlinefromstdin_181011)(NimStringDesc* prompt, NimStringDesc** line) {
	NIM_BOOL result;
	NCSTRING buffer;
	result = 0;
	buffer = Dl_178559(prompt->data);
	{
		if (!buffer == 0) goto LA3;
		exit(0);
	}
	LA3: ;
	unsureAsgnRef((void**) &(*line), cstrToNimstr(buffer));
	{
		if (!(0 < (*line)->Sup.len)) goto LA7;
		Dl_180053(buffer);
	}
	LA7: ;
	free(buffer);
	result = NIM_TRUE;
	return result;
}
N_NOINLINE(void, rdstdinInit)(void) {
	int LOC1;
	LOC1 = Dl_178589(((int) 9), donothing_181023);
}

N_NOINLINE(void, rdstdinDatInit)(void) {
}

